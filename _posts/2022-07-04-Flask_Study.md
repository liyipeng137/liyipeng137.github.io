### Day 0

本次规划目的为从0开始学习flask，最终实现三个左右完整的可投入生产的运维工具，初始规划时间一个半月


### Day 1

计划完成一个脚本管理工具，具备以下功能

1.可上传自定义脚本

2.可添加节点

3.可添加任务即运行某个脚本在对应的节点，运行方式可选择corntab/后台运行/运行一次


### Day 2

今天实现
1.区分py和sh脚本，不同类型运行方式不同
2.在线预览修改脚本内容
3.脚本运行有语法错误时，返回报错信息
4.每次查看脚本时检查脚本运行状态
5.用class声明task\_id关联的一串信息
6.增加脚本start/delete/stop按钮

css相关的各种配置是一个大难题

进度缓慢

时间不多，好好珍惜


### Day 3

1.脚本运行前检查语法错误并返回报错信息
2.增加脚本任务管理按钮
3.在线预览脚本内容
4.单脚本可选择多节点运行
5.脚本运行方式分为crontab/后台运行/运行一次
6.翻页
7.脚本名，节点IP，任务名检查不可重复
 

### Day 4

1.脚本名、节点IP、任务名不可重复
2.节点密码密文形式存入数据库
3.单任务可选择多节点运行
如果单任务可多节点运行同一个脚本，就要大块大块地改了，淦喔这两天的白写了，我靠为甚吗最开始地时候不优先实现这个，悲催呀，这就是走一步看一步，没一开始做好规划地后果 （X﹏X）

还有，版本控制可见是多么的重要


### Day 5

重新思考一遍制作该工具的目的，只是因为各种脚本或者定时任务在不同的节点上难以管理且动不动就找不到，所以诞生了制作这样一个脚本任务管理工具的想法，所以脚本的运行方式只需要crontab/后台执行两种即可，仅执行一次的脚本不需要放这里管理的，其次是关于多个节点运行一个脚本，什么样的场景下会有多节点呢？比如说：定时清理磁盘，用crontab的方式在所有节点执行，或者采集监控数据，比如有十台机器用了新型的物理机，要监控这十台机器的实时IO速度，需要后台执行的方式在这十台机器上执行脚本，那为什么不用ansible去批量执行呢？想一下，ansible批量执行后，我只是获得一个结果，即某个脚本以定时任务或者后台的方式添加到了n个节点上，后续如何管理？那这些需要管理吗？ansible启动，ansible停止，那单节点的当然也可以用ansible实现，但还是最开始的想法，需要一个统一管理的地方，所以多节点执行是需要的？
目前可以增加节点，上传python和shell脚本，有一个任务管理，可以启动停止脚本这样，不过很不幸，当下不知道怎么下一步了😔


### Day 15

好吧，我也不知道为什么Day 5之后就是Day 15了，虽然断断续续，果然我就知道计划得太大容易拉跨，但第一个工具已经完成了，实现了最初的预计功能，脚本管理，可以增加节点，上传脚本，多节点执行任务，脚本可以选择后台执行和crontab方式执行，虽然是练习，但我可是按照可以投入使用的想法去做的，我把代码放在github上了🤕 : https://github.com/liyipeng137/ScriptManager，  然后有一个示例可以访问http://scriptmanager.liyipeng.cc/看到